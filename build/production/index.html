<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>PPM Chat Bot</title>

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/roboto.css">
  <link rel="stylesheet" href="css/font-awesome.min.css" />

  <!-- jQuery UI Darkness Theme & Autocomplete -->
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/ui-darkness/jquery-ui.css">
  <link rel="stylesheet prefetch" href="css/jquery.mCustomScrollbar.min.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <!-- jQuery UI Darkness Theme & Autocomplete -->
  <style>
    .ui-datepicker {
      width: 21%;
    }
		.rate {
        border: 1px solid #cccccc;
        float: left;
        height: inherit;
        padding: 0 30px;
      }
      .rate:not(:checked) > input {
        position: absolute;
        top: -9999px;
      }
       
      .rate:not(:checked) > label {
        float: right;
        width: 1em;
        overflow: hidden;
        white-space: nowrap;
        cursor: pointer;
        font-size: 30px;
        color: #ccc;
      }
       
      .rate:not(:checked) > label:before { content: 'â˜… '; }
       
      .rate > input:checked ~ label { color: #ffc700; }
       
      .rate:not(:checked) > label:hover, .rate:not(:checked) > label:hover ~ label { color: #deb217; }
       
      .rate > input:checked + label:hover, .rate > input:checked + label:hover ~ label, .rate > input:checked ~ label:hover, .rate > input:checked ~ label:hover ~ label, .rate > label:hover ~ input:checked ~ label { color: #c59b08; }
  </style>
  <script type="text/javascript">
    var jQ = $.noConflict();
  </script>

	<!-- Custom stylesheet -->
  <link rel="stylesheet" href="css/style.css">
	<!-- Custom stylesheet -->

  <!--<script src="js/validate.min.js"></script>-->
</head>

<body>
  <div class="chatBot">
    <div id="animHelpText" class="animated bounce" style="display: block;">We are glad to assist you !!</div>
    <div class="chat">
      <div class="chat-title">
        <h1>PPM Chat Advisor </h1>
        <h2>Your PPM Guide</h2>
        <button class="chat-minmax" id="minim-chat" style="display: none;"><i class="fa fa-minus fa-lg" aria-hidden="true"></i></button>
        <button class="chat-minmax" id="maxi-chat"><i class="fa fa-plus fa-lg" aria-hidden="true"></i></button>
      </div>
      <div class="messages">
        <div class="messages-content"></div>
      </div>
      <div class="buy-insurance">Click here for <span class="buy-insurance-btn">Main Menu</span></div>
      <div>
        <form id="generalForm" class="message-box">
          <div id="sound"></div>
          <input id="userInputText" type="text" class="message-input">
          <button id="userInputSubmit" type="submit" class="message-submit">Send</button>
        </form>
      </div>
    </div>
  </div>
	  <div id="templates">
    <div style="display:none" id="feedbackTemplate">
      <form name="feedback" class="message new">
        <div class="rate">
          <h2>
						Please provide a feedback
					</h2>
          <input type="radio" id="star5" name="rate" value="5" />
          <label for="star5" title="text">5 stars</label>
          <input type="radio" id="star4" name="rate" value="4" />
          <label for="star4" title="text">4 stars</label>
          <input type="radio" id="star3" name="rate" value="3" />
          <label for="star3" title="text">3 stars</label>
          <input type="radio" id="star2" name="rate" value="2" />
          <label for="star2" title="text">2 stars</label>
          <input type="radio" id="star1" name="rate" value="1" />
          <label for="star1" title="text">1 star</label>
          <textarea id="comment" name="comments" placeholder="Please enter your comments here"></textarea>
        </div></br>
        <input type="submit" class="chatBtn" id="send_feedback" value="Send"></a>
      </form>
    </div>

  <script type="text/javascript" src='js/jquery.mCustomScrollbar.concat.min.js'></script>
  <script type="text/javascript" src="js/socket.io.js"></script>
  <script type="text/javascript" src="js/data.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
	<script>
		var socket = io()
		jQ('#send_feedback').on('click', function (e) {
			var feedback = {
				comment: jQ('#comment').val(),
				rating: jQ("input[name=rate]").val()
			}
			console.log("feedback: " + feedback)
			socket.emit('feedback', feedback)
			return false
		})
 	</script> 
</body>

</html>